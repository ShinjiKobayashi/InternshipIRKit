package com.test.irkittest;

import android.os.Bundle;
import android.support.v7.app.ActionBarActivity;
import android.util.Log;
import android.view.View;


public class MainActivity extends ActionBarActivity implements View.OnClickListener{
    private final static String TAG = MainActivity.class.getSimpleName();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        findViewById(R.id.button).setOnClickListener(this);


    }

    @Override
    public void onClick(View v) {
        switch (v.getId()){
            case R.id.button: {
                String uri = "http://192.168.0.20/messages";
                AsyncTaskHttpPost post = new AsyncTaskHttpPost(uri,mSendResultListener);
                String strJson = "{\"format\":\"raw\",\"freq\":38,\"data\":[1002,5794,1002,2911,1037,1037,935,2911,935,935,935,935,935,2911,935,2911,935,1037,935,1037,1037,1037,1037,1037,935,2911,1037,2911,1037,65535,0,65535,0,65535,0,11139,1002,5794,1002,2911,1037,1037,935,2911,935,1037,935,1037,935,2911,1037,2911,1037,1037,1037,1037,935,1037,935,935,935,2911,968,2911,968,65535,0,65535,0,65535,0,12782,1002,5794,1002,2911,1002,1002,1002,2911,1002,1002,1002,1002,1002,2911,1002,2911,1002,2911,1002,1002,1002,1002,1002,1002,1002,2911,1002,873,873,65535,0,65535,0,65535,0,11932,1037,5794,1002,2911,1002,1002,1002,2911,1002,1002,1002,1002,1002,2911,1002,2911,1002,2911,1002,1002,1002,1002,1002,1002,1002,2911,1002,904,1002,65535,0,65535,0,65535,0,11932,1002,5794,1002,2911,1037,1037,935,2911,1037,935,1037,1037,935,2911,1002,2911,1002,2911,1002,1002,1002,1002,1002,1002,1002,2911,1002,873,968,65535,0,65535,0,65535,0,13693,1002,5794,1002,2911,1002,1002,1002,2911,1002,1002,1002,1002,1002,2911,1002,2911,1002,1002,1002,1002,1002,1002,1002,1002,1002,2911,1002,2911,1002,65535,0,65535,0,65535,0,10047,1002,5794,1002,2911,1002,1002,1002,2911,1002,1002,1002,1002,1002,2911,1002,2911,1002,1002,1002,1002,1002,1002,1002,1002,1002,2911,1002,2911,1002,65535,0,65535,0,65535,0,11529,968,5794,1002,2911,968,968,968,2911,968,2911,968,2911,968,2911,968,2911,968,2911,968,2911,968,2911,968,2911,968,968,968,968,968,65535,0,65535,0,65535,0,3834,1002,5794,1037,2911,1002,1002,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,1002,1002,904,904,65535,0,65535,0,65535,0,4554,1002,5794,1002,2911,1002,1002,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,1002,1002,904,904,65535,0,65535,0,65535,0,3704,1002,5794,1037,2911,968,968,968,2911,968,2911,968,2911,968,2911,968,2911,968,2911,968,2911,968,2911,968,2911,968,968,968,968,968,65535,0,65535,0,65535,0,4554,1037,5794,1037,2911,1002,1002,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,1002,1002,873,968,65535,0,65535,0,65535,0,3834,1002,5794,1037,2911,1002,1002,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,1002,1002,904,904,65535,0,65535,0,65535,0,4554,1002,5794,1002,2911,1037,1037,935,2911,935,2911,935,2911,1037,2813,1037,2813,1037,2813,1037,2813,1037,2813,1037,2813,1037,1037,935,935,935,65535,0,65535,0,65535,0,3704,1002,5794,1002,2911,1037,1037,1037,2911,1037,2911,1037,2911,1037,2911,1037,2911,1037,2911,1037,2911,1037,2911,1037,2911,1037,1037,935,935,935,65535,0,65535,0,65535,0,4554,1002,5794,1002,2911,1002,1002,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,2911,1002,1002,1002,904,904]}";
                post.execute(strJson);
                break;
            }
        }
    }

    private AsyncTaskHttpPost.SendResultListener mSendResultListener = new AsyncTaskHttpPost.SendResultListener() {
        @Override
        public void onSendResult(boolean isSend) {
            Log.v(TAG,"onSendResult = " + isSend);
        }
    };

}
